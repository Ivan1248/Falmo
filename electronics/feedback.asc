Version 4
SHEET 1 3220 1604
WIRE 1712 -752 1616 -752
WIRE 1856 -752 1792 -752
WIRE 1616 -656 1616 -752
WIRE 1712 -656 1616 -656
WIRE 2576 -656 2528 -656
WIRE 1616 -640 1616 -656
WIRE 1856 -640 1856 -752
WIRE 1856 -640 1776 -640
WIRE 2080 -640 1856 -640
WIRE 1200 -624 1200 -640
WIRE 1200 -624 1136 -624
WIRE 1712 -624 1696 -624
WIRE 1856 -624 1856 -640
WIRE 1744 -608 1744 -624
WIRE 1136 -576 1136 -624
WIRE 1136 -576 1072 -576
WIRE 944 -560 912 -560
WIRE 2496 -560 2464 -560
WIRE 2832 -560 2800 -560
WIRE 1200 -544 1072 -544
WIRE 944 -528 912 -528
WIRE 1200 -528 1200 -544
WIRE 1696 -528 1696 -624
WIRE 1856 -528 1856 -544
WIRE 1856 -528 1696 -528
WIRE 1888 -528 1856 -528
WIRE 1984 -528 1968 -528
WIRE 2496 -528 2464 -528
WIRE 2832 -528 2800 -528
WIRE 1104 -512 1072 -512
WIRE 1856 -512 1856 -528
WIRE -288 -480 -304 -480
WIRE -192 -480 -208 -480
WIRE 2496 -464 2464 -464
WIRE 2832 -464 2800 -464
WIRE 2496 -432 2464 -432
WIRE 2832 -432 2800 -432
WIRE 2496 -400 2464 -400
WIRE 2832 -400 2800 -400
WIRE -256 -384 -256 -400
WIRE -448 -368 -496 -368
WIRE -416 -368 -448 -368
WIRE -304 -368 -304 -480
WIRE -304 -368 -336 -368
WIRE -288 -368 -304 -368
WIRE 2528 -368 2528 -656
WIRE 2528 -368 2464 -368
WIRE 2832 -368 2800 -368
WIRE -800 -352 -800 -368
WIRE -672 -352 -672 -368
WIRE -192 -352 -192 -480
WIRE -192 -352 -224 -352
WIRE -144 -352 -192 -352
WIRE -32 -352 -64 -352
WIRE 1200 -352 1200 -368
WIRE 1200 -352 1136 -352
WIRE 1680 -352 1664 -352
WIRE 1936 -352 1904 -352
WIRE 1952 -352 1936 -352
WIRE -288 -336 -304 -336
WIRE 112 -336 16 -336
WIRE 1936 -320 1936 -352
WIRE -416 -304 -496 -304
WIRE -304 -304 -304 -336
WIRE -304 -304 -416 -304
WIRE -256 -304 -256 -320
WIRE 688 -304 656 -304
WIRE 1136 -304 1136 -352
WIRE 1136 -304 1072 -304
WIRE 528 -288 464 -288
WIRE 944 -288 912 -288
WIRE 1536 -288 1520 -288
WIRE 1632 -288 1616 -288
WIRE 1680 -288 1632 -288
WIRE 16 -272 16 -336
WIRE 32 -272 16 -272
WIRE 688 -272 656 -272
WIRE 1200 -272 1072 -272
WIRE 112 -256 112 -336
WIRE 112 -256 96 -256
WIRE 528 -256 496 -256
WIRE 944 -256 912 -256
WIRE 1200 -256 1200 -272
WIRE -32 -240 -32 -352
WIRE 32 -240 -32 -240
WIRE 688 -240 656 -240
WIRE 1104 -240 1072 -240
WIRE -416 -224 -416 -304
WIRE -400 -224 -416 -224
WIRE -304 -224 -320 -224
WIRE -288 -224 -304 -224
WIRE -192 -224 -208 -224
WIRE 1520 -224 1520 -288
WIRE 1520 -224 1504 -224
WIRE 1680 -224 1520 -224
WIRE 1936 -224 1936 -240
WIRE 1936 -224 1904 -224
WIRE 2272 -192 2256 -192
WIRE 2416 -192 2400 -192
WIRE 1680 -160 1664 -160
WIRE 2272 -160 2256 -160
WIRE 2416 -160 2400 -160
WIRE 688 -144 656 -144
WIRE -256 -128 -256 -144
WIRE 384 -128 384 -288
WIRE 528 -128 464 -128
WIRE 2272 -128 2256 -128
WIRE 2416 -128 2400 -128
WIRE -304 -112 -304 -224
WIRE -288 -112 -304 -112
WIRE 688 -112 656 -112
WIRE -928 -96 -928 -112
WIRE -688 -96 -688 -112
WIRE -192 -96 -192 -224
WIRE -192 -96 -224 -96
WIRE -144 -96 -192 -96
WIRE -32 -96 -32 -240
WIRE -32 -96 -64 -96
WIRE 528 -96 496 -96
WIRE 1632 -96 1632 -288
WIRE 1792 -96 1632 -96
WIRE 1936 -96 1936 -224
WIRE 1936 -96 1792 -96
WIRE 2272 -96 2256 -96
WIRE 2416 -96 2400 -96
WIRE 2736 -96 2704 -96
WIRE 2880 -96 2864 -96
WIRE -448 -80 -448 -368
WIRE -400 -80 -448 -80
WIRE -304 -80 -320 -80
WIRE -288 -80 -304 -80
WIRE 688 -80 656 -80
WIRE 1200 -80 1200 -96
WIRE 1200 -80 1136 -80
WIRE 2272 -64 2256 -64
WIRE 2576 -64 2400 -64
WIRE 2736 -64 2576 -64
WIRE 2880 -64 2864 -64
WIRE 3136 -64 3008 -64
WIRE -304 -48 -304 -80
WIRE -256 -48 -256 -64
WIRE 1136 -32 1136 -80
WIRE 1136 -32 1072 -32
WIRE 2272 -32 2256 -32
WIRE 2416 -32 2400 -32
WIRE 2880 -32 2864 -32
WIRE 944 -16 912 -16
WIRE 544 0 528 0
WIRE 1200 0 1072 0
WIRE 2272 0 2256 0
WIRE 2416 0 2400 0
WIRE 2880 0 2864 0
WIRE 3008 0 3008 -64
WIRE 3024 0 3008 0
WIRE 944 16 912 16
WIRE 1200 16 1200 0
WIRE 3136 16 3136 -64
WIRE 3136 16 3088 16
WIRE 1104 32 1072 32
WIRE 2272 32 2256 32
WIRE 2416 32 2400 32
WIRE 2736 32 2736 -64
WIRE 2960 32 2736 32
WIRE 3024 32 2960 32
WIRE -304 48 -304 32
WIRE 448 64 448 0
WIRE 464 64 448 64
WIRE 2880 64 2864 64
WIRE 544 80 544 0
WIRE 544 80 528 80
WIRE 384 96 384 -128
WIRE 464 96 384 96
WIRE 2880 96 2864 96
WIRE 448 128 448 64
WIRE 2880 128 2864 128
FLAG -800 -368 V+
FLAG -800 -272 0
FLAG -928 -16 0
FLAG -256 -400 V+
FLAG -256 -304 0
FLAG -256 -144 V+
FLAG -256 -48 0
FLAG 64 -224 0
FLAG 64 -288 V+
FLAG -928 -112 IN
FLAG -496 -368 IN
FLAG -688 -16 0
FLAG -688 -112 IN2
FLAG -496 -304 IN2
FLAG -304 48 0
FLAG 688 -240 V+
FLAG 688 -304 V+
FLAG 688 -272 IN-
FLAG 496 -256 0
FLAG 288 -384 IN-
FLAG 288 -464 V+
FLAG 688 -80 V+
FLAG 496 -96 0
FLAG 688 -112 V+
FLAG 688 -144 IN-
FLAG 496 112 0
FLAG 496 48 V+
FLAG 448 208 0
FLAG 1104 -240 V+
FLAG 912 -256 0
FLAG 1200 -368 V+
FLAG 1200 -176 0
FLAG 1104 -512 V+
FLAG 912 -528 0
FLAG 1200 -640 V+
FLAG 1200 -448 0
FLAG 1104 32 V+
FLAG 912 16 0
FLAG 1200 -96 V+
FLAG 1200 96 0
FLAG 1952 -352 V+
FLAG 1664 -352 0
FLAG 1664 -160 V+
FLAG 1792 -32 0
FLAG 1856 -432 0
FLAG 1616 -576 0
FLAG 1744 -672 V+
FLAG 1744 -608 0
FLAG 1984 -528 V+
FLAG 2256 -192 V+
FLAG 2256 -128 A
FLAG 2256 -160 0
FLAG 2256 -64 IN
FLAG 2256 0 IN
FLAG 2256 -32 C
FLAG 2256 32 IN
FLAG 1504 -224 CLK
FLAG 2416 -192 A2
FLAG 2416 -160 A1
FLAG 2416 -96 V+
FLAG 2416 -32 V+
FLAG 2416 32 0
FLAG 2416 0 0
FLAG 2416 -128 A0
FLAG 2240 -688 0
FLAG 2240 -592 V+
FLAG 2240 -624 V+
FLAG 2576 0 0
FLAG 2240 -656 CLK
FLAG 2576 -688 0
FLAG 2576 -592 V+
FLAG 2576 -624 V+
FLAG 2832 -368 A2
FLAG 2832 -400 A1
FLAG 2832 -432 A0
FLAG 912 -560 A
FLAG 912 -288 B
FLAG 912 -16 C
FLAG 2256 -96 B
FLAG 3056 -16 V+
FLAG 3056 48 0
FLAG -672 -368 V+5
FLAG -672 -272 0
FLAG 2704 -96 0
FLAG 2880 -64 0
FLAG 2880 0 V+
FLAG 2880 64 V+
FLAG 2880 96 0
FLAG 2880 128 0
FLAG 2960 96 0
FLAG 2880 -96 CLK
FLAG 2880 -32 0
SYMBOL voltage -928 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 0.41 100)
SYMBOL voltage -800 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.6
SYMBOL res -192 -496 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1000k
SYMBOL res -320 -384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL Opamps\\LT1078 -256 -416 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1078 -256 -160 R0
SYMATTR InstName U2
SYMBOL res -304 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res -304 -96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -192 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1000k
SYMBOL res -320 -64 R0
SYMATTR InstName R6
SYMATTR Value 1000k
SYMBOL res -48 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1000k
SYMBOL res -48 -112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1000k
SYMBOL Opamps\\LT1078 64 -320 R0
SYMATTR InstName U3
SYMBOL voltage -688 -112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(0 0.40 100)
SYMBOL INA195 592 -272 R0
SYMATTR InstName U14
SYMBOL voltage 288 -480 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value SINE(0.000 0.01 100)
SYMBOL INA195 592 -112 R0
SYMATTR InstName U15
SYMBOL res 480 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 100k
SYMBOL res 480 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R29
SYMATTR Value 100k
SYMBOL Opamps\\LT1079 496 16 R0
SYMATTR InstName U17
SYMBOL res 432 112 R0
SYMATTR InstName R32
SYMATTR Value 20k
SYMBOL res 544 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R42
SYMATTR Value 20k
SYMBOL INA195 1008 -272 R0
SYMATTR InstName U16
SYMBOL res 1184 -368 R0
SYMATTR InstName R30
SYMATTR Value 10m
SYMBOL res 1184 -272 R0
SYMATTR InstName R31
SYMATTR Value 10
SYMBOL Misc\\NE555 1792 -256 R0
SYMATTR InstName U4
SYMBOL INA195 1008 -544 R0
SYMATTR InstName U6
SYMBOL res 1184 -640 R0
SYMATTR InstName R11
SYMATTR Value 10m
SYMBOL res 1184 -544 R0
SYMATTR InstName R12
SYMATTR Value 1
SYMBOL INA195 1008 0 R0
SYMATTR InstName U5
SYMBOL res 1184 -96 R0
SYMATTR InstName R9
SYMATTR Value 10m
SYMBOL res 1184 0 R0
SYMATTR InstName R10
SYMATTR Value 8
SYMBOL cap 1776 -96 R0
SYMATTR InstName C1
SYMATTR Value 10n
SYMBOL res 1632 -304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 1920 -336 R0
SYMATTR InstName R14
SYMATTR Value 1000k
SYMBOL Opamps\\LT1078 1744 -704 R0
SYMATTR InstName U7
SYMBOL cap 1600 -640 R0
SYMATTR InstName C2
SYMATTR Value 50n
SYMBOL res 1808 -768 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 50k
SYMBOL res 1840 -640 R0
SYMATTR InstName R16
SYMATTR Value 100k
SYMBOL res 1840 -528 R0
SYMATTR InstName R17
SYMATTR Value 100k
SYMBOL res 1984 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL ADG408 2336 -80 R0
SYMATTR InstName U10
SYMBOL 74HC193 2352 -784 R0
SYMATTR InstName X1
SYMBOL cap 2560 -64 R0
SYMATTR InstName C3
SYMATTR Value 35p
SYMBOL 74HC193 2688 -784 R0
SYMATTR InstName X2
SYMBOL Opamps\\LT1078 3056 -48 R0
SYMATTR InstName U8
SYMBOL voltage -672 -368 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value 5
SYMBOL cap 2944 32 R0
SYMATTR InstName C4
SYMATTR Value 35p
TEXT -1224 -296 Left 2 !;tran 0 0.5 0 0.0001
TEXT -1320 104 Left 2 ;Motor noise: https://www.pololu.com/docs/0J15/9
TEXT -1568 64 Left 2 ;V=0.2*(buf(-sin(2*pi*time*200)+0.5)-0.5)+0.2*(buf(-sin(2*pi*time*300)+0.5)-0.5)
TEXT -1224 -248 Left 2 !.tran 30m
TEXT 2272 -776 Left 0 !.param tdgate=10n tdgate2=3*tdgate tripdtgate=1n vhighgate=5v vlowgate=0v
