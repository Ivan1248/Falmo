* D:\Google Drive\Projects\Falmo\electronics\circuit-rlc-a.asc
R20 N006 N005 10k
C10 0 N006 200n
R21 N010 N009 10k
C1 N010 0 200n
R5 N004 N005 10k
R13 N004 0 10k
R14 N009 N008 10k
R18 N008 0 10k
C5 N007 0 200n
L5 N007 0 31.66m
R26 N007 Vinr 2k
C4 N011 0 200n
L2 N011 0 14.07m
R16 N011 Vinr 2k
XU3 N007 N004 V+ 0 N005 LT1078
XU4 N011 N008 V+ 0 N009 LT1078
R7 Vinr P001 200
R17 Vt N002 2k
C11 0 Vt 50µ IC=-125m
R22 N001 N002 8k
R25 N001 0 8k
XU11 N003 N001 V+ 0 N002 LT1078
XU2 N006 Vt V+ 0 Vsh LM324
XU5 N010 Vt V+ 0 Vin1 LM324
V1 V+ 0 5 Rser=2
C6 V+ 0 8000µ Rser=2
C7 V+ 0 100n
R6 N014 N013 10k
C8 N014 0 200n
R8 N013 N012 10k
R9 N012 0 10k
C9 N015 0 200n
L1 N015 0 7.916m
R10 N015 Vinr 2k
XU6 N015 N012 V+ 0 N013 LT1078
XU7 N014 Vt V+ 0 Vin2 LM324
C12 N003 0 2µ
L3 N003 0 50.66m
R11 N003 Vinr 2k
B1 P001 0 V=0.5*sin(2*pi*time*10000*(time/2))*buf(-sin(time*200)+1.5)+0.22*sin(2*pi*500*time)
R1 Vsh 0 50
.lib LM324.ti.lib
.tran 0 0.5 0 0.0001
* smoothing f.
* smoothing f.
* comparator
* comparator
* rect. amp.
* rect. amp.
.lib Ltc.lib
* smoothing f.
* rect. amp.
* more capacitors beacause of ESR and ESL
* Motor noise: https://www.pololu.com/docs/0J15/9
* bandwidth=1/(RC)/(2*pi) [Hz]
* center frequency f_c= 1/sqrt(LC)/(2*pi) [Hz]
* L = 1/(4*pi^2*f_c^2*C)
* smoothing f.
* comparator
* rect. amp.
* 1959.06 Hz
.backanno
.end
